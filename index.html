<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Timeline</title>
  </head>
  <body>
    <h1>Timeline</h1>
    <div class="container">
      <div id="timeline">
      </div>
    </div>

    <div id="templates" style="display: none;">
      <div class="year">
        <div class="year-title">2000</div>
        <!-- <div class="month m1">...</div> -->
        <!-- <div class="month m2">...</div> -->
        <!-- <div class="month m3">...</div> -->
        <!-- <div class="month m4">...</div> -->
        <!-- <div class="month m5">...</div> -->
        <!-- <div class="month m6">...</div> -->
        <!-- <div class="month m7">...</div> -->
        <!-- <div class="month m8">...</div> -->
        <!-- <div class="month m9">...</div> -->
        <!-- <div class="month m10">...</div> -->
        <!-- <div class="month m11">...</div> -->
        <!-- <div class="month m12">...</div> -->
      </div>
    </div>
  <script>
window.timelines = [
  {
    type: "point",
    year: -100,  // = 100 BC
    month: 3,    // March
    day: 27,
    text: "Lorem ipsum event",
    color: "#333"
  },
  {
    type: "point",
    year: 1988,
    month: 3,
    day: 27,
    text: "Bla bla bla",
    color: "#333"
  }
];

window.expandedTimeline = {};

function getTimelineLimits() {
  // Return start year and end year
  var maxYear = -10000;
  var minYear = 10000;
  for (var i = 0; i < window.timelines.length; i++) {
    var item = window.timelines[i];
    if (item.year > maxYear) {
      maxYear = item.year;
    }
    if (item.year < minYear) {
      minYear = item.year;
    }
  }

  return [minYear, maxYear];
}

function drawTimeline() {
  // Init the timeline [min year ... max year]
  var limits = getTimelineLimits();
  var startYear = limits[0];
  var endYear = limits[1];
  for (var year = startYear; year <= endYear; year++) {
    console.log(year);
    window.expandedTimeline[year] = {};

    // var template = document.querySelector('#templates .year');
    // var timelineContainer = document.querySelector('.container #timeline');
    // var clonedTemplate = template.cloneNode(true);
    // clonedTemplate.querySelector(".year-title").textContent = year;
    // timelineContainer.appendChild(clonedTemplate);
  }

  // Put the points on the timeline
  for (var i = 0; i < window.timelines.length; i++) {
    var item = window.timelines[i];
    if (item.type === "point") {
      var eventYear = item.year;
      var eventMonth = item.month;
      var eventDay = item.day;
      var eventText = item.text;
      var eventColor = item.color;

      window.expandedTimeline[eventYear][eventMonth] = {};
      window.expandedTimeline[eventYear][eventMonth][eventDay] = [];
      window.expandedTimeline[eventYear][eventMonth][eventDay].push({
        text: eventText,
        color: eventColor
      });
    }
  }
}

drawTimeline();
  </script>
  </body>
</html>
